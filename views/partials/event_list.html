{{range .events}}
<div class="card !p-0 overflow-hidden group h-full flex flex-col">
    {{if .GetString "image_url"}}
    <div class="h-48 overflow-hidden relative">
        <div class="absolute inset-0 bg-gray-200 animate-pulse"></div>
        <img src="{{.GetString " image_url"}}" alt="{{.GetString " title"}}" loading="lazy"
            class="w-full h-full object-cover relative z-10 group-hover:scale-105 transition-transform duration-500">
    </div>
    {{end}}

    <div class="p-6 text-left flex flex-col flex-grow">
        <div class="flex justify-between items-start mb-4">
            <span
                class="px-2 py-1 bg-gray-100 dark:bg-neutral-800 text-brand-600 border border-black/5 text-xs font-bold font-inter uppercase tracking-wider">
                {{.GetString "category"}}
            </span>
            <span class="text-label text-xs">
                {{.GetString "source_name"}}
            </span>
        </div>

        <h3 class="text-xl font-heading mb-2 group-hover:text-brand-600 transition-colors leading-tight">
            {{.GetString "title"}}
        </h3>

        <div class="flex items-center text-[var(--text-body)] text-sm mb-4 font-medium">
            <span class="mr-4">ğŸ“ {{.GetString "location"}}</span>
            <span>ğŸ“… {{.GetDateTime "date_start"}}</span>
        </div>

        {{if .GetString "description"}}
        <p class="text-[var(--text-body)] text-sm line-clamp-3 mb-6 flex-grow leading-relaxed">
            {{.GetString "description"}}
        </p>
        {{end}}

        <a href="{{.GetString " url"}}" target="_blank" class="btn w-full mt-auto">
            View Details
        </a>
    </div>
</div>
{{else}}
<div class="col-span-full text-center py-20 bg-[var(--paper-white)] border border-dashed border-black/10 rounded-sm">
    <p class="text-[var(--text-body)] font-medium">No events found. Click "Sync & Refresh" to fetch the latest data.</p>
</div>
{{end}}